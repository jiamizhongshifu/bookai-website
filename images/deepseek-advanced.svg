<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f0f9ff" />
      <stop offset="100%" stop-color="#e0f0ff" />
    </linearGradient>
    <linearGradient id="expertGradient1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#7c4dff" />
      <stop offset="100%" stop-color="#5e35b1" />
    </linearGradient>
    <linearGradient id="expertGradient2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#00bcd4" />
      <stop offset="100%" stop-color="#0097a7" />
    </linearGradient>
    <linearGradient id="expertGradient3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#ff9800" />
      <stop offset="100%" stop-color="#f57c00" />
    </linearGradient>
    <linearGradient id="expertGradient4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#4caf50" />
      <stop offset="100%" stop-color="#388e3c" />
    </linearGradient>
    <linearGradient id="gateGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f44336" />
      <stop offset="100%" stop-color="#d32f2f" />
    </linearGradient>
    <linearGradient id="outputGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#3f51b5" />
      <stop offset="100%" stop-color="#303f9f" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="10" flood-opacity="0.2"/>
    </filter>
  </defs>
  
  <!-- 背景矩形 -->
  <rect width="800" height="600" fill="url(#bgGradient)" rx="20" ry="20" />
  
  <!-- 中心圆形 -->
  <circle cx="400" cy="300" r="240" fill="white" filter="url(#shadow)" />
  
  <!-- MoE架构图 -->
  
  <!-- 输入箭头 -->
  <path d="M250,150 L250,200" stroke="#555" stroke-width="4" fill="none" />
  <polygon points="250,200 245,190 255,190" fill="#555" />
  
  <!-- 路由网络/门控机制 -->
  <rect x="200" y="200" width="100" height="60" rx="10" ry="10" fill="url(#gateGradient)" />
  <text x="250" y="235" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">路由网络</text>
  
  <!-- 从路由到专家的连接线 -->
  <path d="M250,260 L250,280 L150,320" stroke="#888" stroke-width="2" fill="none" />
  <path d="M250,260 L250,280 L250,320" stroke="#888" stroke-width="2" fill="none" />
  <path d="M250,260 L250,280 L350,320" stroke="#888" stroke-width="2" fill="none" />
  <path d="M250,260 L250,280 L450,320" stroke="#888" stroke-width="2" fill="none" />
  
  <!-- 专家网络 -->
  <g transform="translate(150, 350)">
    <rect x="-40" y="-30" width="80" height="100" rx="10" ry="10" fill="url(#expertGradient1)" />
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">专家 1</text>
    <rect x="-25" y="15" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
    <rect x="-25" y="30" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
    <rect x="-25" y="45" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
  </g>
  
  <g transform="translate(250, 350)">
    <rect x="-40" y="-30" width="80" height="100" rx="10" ry="10" fill="url(#expertGradient2)" />
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">专家 2</text>
    <rect x="-25" y="15" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
    <rect x="-25" y="30" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
    <rect x="-25" y="45" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
  </g>
  
  <g transform="translate(350, 350)">
    <rect x="-40" y="-30" width="80" height="100" rx="10" ry="10" fill="url(#expertGradient3)" />
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">专家 3</text>
    <rect x="-25" y="15" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
    <rect x="-25" y="30" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
    <rect x="-25" y="45" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
  </g>
  
  <g transform="translate(450, 350)">
    <rect x="-40" y="-30" width="80" height="100" rx="10" ry="10" fill="url(#expertGradient4)" />
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">专家 4</text>
    <rect x="-25" y="15" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
    <rect x="-25" y="30" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
    <rect x="-25" y="45" width="50" height="8" rx="2" ry="2" fill="white" opacity="0.3" />
  </g>
  
  <!-- 更多专家的省略号 -->
  <text x="530" y="350" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#888">...</text>
  
  <!-- 从专家到融合层的连接线 -->
  <path d="M150,420 L150,440 L300,480" stroke="#888" stroke-width="2" fill="none" />
  <path d="M250,420 L250,440 L300,480" stroke="#888" stroke-width="2" fill="none" />
  <path d="M350,420 L350,440 L300,480" stroke="#888" stroke-width="2" fill="none" />
  <path d="M450,420 L450,440 L300,480" stroke="#888" stroke-width="2" fill="none" />
  
  <!-- 融合层 -->
  <rect x="250" y="480" width="100" height="60" rx="10" ry="10" fill="url(#outputGradient)" />
  <text x="300" y="515" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">融合层</text>
  
  <!-- 输出箭头 -->
  <path d="M300,540 L300,570" stroke="#555" stroke-width="4" fill="none" />
  <polygon points="300,570 295,560 305,560" fill="#555" />
  
  <!-- 右侧MoE架构说明 -->
  <g transform="translate(600, 300)">
    <rect x="-80" y="-150" width="160" height="300" rx="15" ry="15" fill="white" stroke="#ddd" stroke-width="2" />
    
    <text x="0" y="-120" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">MoE架构优势</text>
    
    <g transform="translate(0, -90)">
      <circle cx="-60" cy="0" r="6" fill="#7c4dff" />
      <text x="-45" y="5" font-family="Arial, sans-serif" font-size="14" text-anchor="start" fill="#333">计算效率高</text>
    </g>
    
    <g transform="translate(0, -60)">
      <circle cx="-60" cy="0" r="6" fill="#00bcd4" />
      <text x="-45" y="5" font-family="Arial, sans-serif" font-size="14" text-anchor="start" fill="#333">参数利用率高</text>
    </g>
    
    <g transform="translate(0, -30)">
      <circle cx="-60" cy="0" r="6" fill="#ff9800" />
      <text x="-45" y="5" font-family="Arial, sans-serif" font-size="14" text-anchor="start" fill="#333">领域专业性强</text>
    </g>
    
    <g transform="translate(0, 0)">
      <circle cx="-60" cy="0" r="6" fill="#4caf50" />
      <text x="-45" y="5" font-family="Arial, sans-serif" font-size="14" text-anchor="start" fill="#333">可扩展性好</text>
    </g>
    
    <g transform="translate(0, 30)">
      <circle cx="-60" cy="0" r="6" fill="#f44336" />
      <text x="-45" y="5" font-family="Arial, sans-serif" font-size="14" text-anchor="start" fill="#333">动态路由能力</text>
    </g>
    
    <g transform="translate(0, 60)">
      <circle cx="-60" cy="0" r="6" fill="#3f51b5" />
      <text x="-45" y="5" font-family="Arial, sans-serif" font-size="14" text-anchor="start" fill="#333">降低推理成本</text>
    </g>
    
    <g transform="translate(0, 90)">
      <circle cx="-60" cy="0" r="6" fill="#9c27b0" />
      <text x="-45" y="5" font-family="Arial, sans-serif" font-size="14" text-anchor="start" fill="#333">企业级应用友好</text>
    </g>
  </g>
  
  <!-- 输入标签 -->
  <text x="250" y="140" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#555">输入</text>
  
  <!-- 输出标签 -->
  <text x="300" y="590" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#555">输出</text>
  
  <!-- 标题 -->
  <text x="400" y="80" font-family="Arial, sans-serif" font-size="36" font-weight="bold" text-anchor="middle" fill="#3f51b5">DeepSeek-R1 MoE架构</text>
  
  <!-- DeepSeek Logo位置 -->
  <g transform="translate(120, 80)">
    <text x="0" y="0" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#3f51b5">DeepSeek</text>
  </g>
</svg> 